[gd_scene load_steps=23 format=2]

[ext_resource path="res://Scenes/Altar.gd" type="Script" id=1]
[ext_resource path="res://Scenes/BunnyTrader.tscn" type="PackedScene" id=2]
[ext_resource path="res://Sprites/altar.png" type="Texture" id=3]
[ext_resource path="res://Sprites/line.png" type="Texture" id=4]
[ext_resource path="res://Etc/AltarLineGradient.tres" type="Gradient" id=5]
[ext_resource path="res://Sprites/carrot1.png" type="Texture" id=6]
[ext_resource path="res://Sprites/shadow3.png" type="Texture" id=7]
[ext_resource path="res://Sprites/apple-icon.png" type="Texture" id=8]
[ext_resource path="res://Sounds/panel.wav" type="AudioStream" id=9]
[ext_resource path="res://Sprites/pumpkin-icon.png" type="Texture" id=10]
[ext_resource path="res://Sprites/shadow4.png" type="Texture" id=11]
[ext_resource path="res://Sounds/whoosh.wav" type="AudioStream" id=12]
[ext_resource path="res://Sprites/shadow5.png" type="Texture" id=13]
[ext_resource path="res://Scenes/TradeItemSimple.tscn" type="PackedScene" id=14]
[ext_resource path="res://Sprites/honey-icon.png" type="Texture" id=15]
[ext_resource path="res://Sprites/shadow6.png" type="Texture" id=16]
[ext_resource path="res://Sprites/berries.png" type="Texture" id=17]
[ext_resource path="res://Sprites/shadow12.png" type="Texture" id=18]

[sub_resource type="CanvasItemMaterial" id=5]

[sub_resource type="CanvasItemMaterial" id=3]
blend_mode = 1

[sub_resource type="ParticlesMaterial" id=4]
emission_shape = 2
emission_box_extents = Vector3( 20, 8, 1 )
flag_disable_z = true
direction = Vector3( 0, -1, 0 )
gravity = Vector3( 0, -98, 0 )
orbit_velocity = 0.0
orbit_velocity_random = 0.0

[sub_resource type="CapsuleShape2D" id=2]
radius = 42.0
height = 18.0

[node name="Altar" groups=["persist"] instance=ExtResource( 2 )]
script = ExtResource( 1 )
main_tree = NodePath("")

[node name="Line2D" type="Line2D" parent="." index="0"]
material = SubResource( 5 )
points = PoolVector2Array( 0, 0, 0, -11, 0, -21, 0, -29, 0, -40, 0, -48, 0, -58, 0, -64, 0, -68, 0, -73, 0, -76, 0, -80, 0, -83, 0, -86, 0, -89, 0, -92, 0, -95 )
width = 54.0
default_color = Color( 1, 1, 1, 1 )
gradient = ExtResource( 5 )
texture = ExtResource( 4 )
texture_mode = 1

[node name="Tween" type="Tween" parent="." index="1"]

[node name="Sprite" parent="." index="2"]
position = Vector2( 0, -6 )
texture = ExtResource( 3 )
hframes = 2

[node name="Polygon2D" type="Polygon2D" parent="." index="3"]
material = SubResource( 3 )
color = Color( 0, 1, 0.88, 0 )
polygon = PoolVector2Array( -4, 7, -4, 6, -2, 6, -2, 5, 2, 5, 2, 6, 4, 6, 4, 7, 5, 7, 5, 8, 6, 8, 6, 11, 5, 11, 5, 12, 9, 12, 9, 11, 10, 11, 10, 10, 11, 10, 11, 9, 12, 9, 12, 8, 17, 8, 17, 9, 19, 9, 19, 10, 22, 10, 22, 11, 27, 11, 27, 7, 33, 7, 33, -4, 33, -19, 34, -19, 34, 9, 28, 9, 28, 13, 25, 13, 25, 14, 23, 14, 23, 15, 21, 15, 21, 16, 18, 16, 18, 17, 15, 17, 15, 16, 14, 16, 14, 17, 11, 17, 11, 16, 10, 16, 10, 15, 9, 15, 9, 14, 4, 14, 4, 16, 3, 16, 3, 17, 2, 17, 2, 18, 0, 18, 0, 16, -1, 16, -1, 18, -2, 18, -2, 17, -3, 17, -3, 16, -4, 16, -4, 14, -9, 14, -9, 15, -10, 15, -10, 16, -11, 16, -11, 17, -18, 17, -18, 16, -21, 16, -21, 15, -23, 15, -23, 14, -24, 14, -24, 13, -28, 13, -28, 9, -34, 9, -34, -20, -33, -20, -33, 6, -33, 7, -27, 7, -27, 11, -23, 11, -22, 11, -22, 10, -20, 10, -19, 10, -19, 9, -17, 9, -17, 8, -12, 8, -12, 9, -11, 9, -11, 10, -10, 10, -10, 11, -9, 11, -9, 12, -5, 12, -5, 11, -6, 11, -6, 8, -5, 8, -5, 7 )

[node name="AltarParticles2D" type="Particles2D" parent="." index="4"]
position = Vector2( 0, -18 )
z_index = 1
emitting = false
amount = 100
lifetime = 0.5
one_shot = true
process_material = SubResource( 4 )

[node name="CollisionPolygon2D" parent="." index="5"]
polygon = PoolVector2Array( -36, -13, 36, -13, 36, 32, -36, 32 )

[node name="Area2D" parent="." index="7"]
position = Vector2( 0, -3 )

[node name="CollisionShape2D" parent="Area2D" index="0"]
position = Vector2( 0, 0 )
shape = SubResource( 2 )

[node name="Particles2D" parent="." index="8"]
position = Vector2( 0, -19 )
process_material = SubResource( 4 )

[node name="TimerGradeUp" type="Timer" parent="." index="11"]
one_shot = true

[node name="Label" type="Label" parent="." index="12"]
visible = false
margin_left = -80.0
margin_top = -22.0
margin_right = -40.0
margin_bottom = -8.0

[node name="AudioStreamPlayerHuh" parent="." index="13"]
volume_db = -80.0

[node name="AudioStreamPlayerClick" type="AudioStreamPlayer" parent="." index="15"]
stream = ExtResource( 9 )
volume_db = -10.0
bus = "Effects"

[node name="AudioStreamPlayerWhoosh" type="AudioStreamPlayer" parent="." index="16"]
stream = ExtResource( 12 )
volume_db = -28.0
pitch_scale = 0.9
bus = "Effects"

[node name="Grades" type="Node2D" parent="." index="19"]

[node name="First" type="Node2D" parent="Grades" index="0"]
visible = false

[node name="TradeItemSimple" parent="Grades/First" index="0" instance=ExtResource( 14 )]
margin_left = 656.0
margin_top = 98.0
margin_right = 714.0
margin_bottom = 118.0
world_item = NodePath("../Carrot")

[node name="TradeItemSimple2" parent="Grades/First" index="1" instance=ExtResource( 14 )]
margin_left = 655.0
margin_top = 118.0
margin_right = 713.0
margin_bottom = 138.0
world_item = NodePath("../Carrot2")

[node name="TradeItemSimple3" parent="Grades/First" index="2" instance=ExtResource( 14 )]
margin_left = 655.0
margin_top = 138.0
margin_right = 713.0
margin_bottom = 158.0
world_item = NodePath("../Carrot3")

[node name="Carrot" type="Sprite" parent="Grades/First" index="3"]
visible = false
use_parent_material = true
position = Vector2( -16, -17 )
rotation = 1.5708
texture = ExtResource( 6 )

[node name="Shadow" type="Sprite" parent="Grades/First/Carrot" index="0"]
use_parent_material = true
rotation = -1.5708
texture = ExtResource( 13 )

[node name="Carrot2" type="Sprite" parent="Grades/First" index="4"]
visible = false
use_parent_material = true
position = Vector2( 1, -22 )
rotation = 1.5708
texture = ExtResource( 6 )

[node name="Shadow" type="Sprite" parent="Grades/First/Carrot2" index="0"]
use_parent_material = true
rotation = -1.5708
texture = ExtResource( 13 )

[node name="Carrot3" type="Sprite" parent="Grades/First" index="5"]
visible = false
use_parent_material = true
position = Vector2( 17, -17 )
rotation = 1.5708
texture = ExtResource( 6 )

[node name="Shadow" type="Sprite" parent="Grades/First/Carrot3" index="0"]
use_parent_material = true
rotation = -1.5708
texture = ExtResource( 13 )

[node name="Second" type="Node2D" parent="Grades" index="1"]
visible = false

[node name="TradeItemSimple" parent="Grades/Second" index="0" instance=ExtResource( 14 )]
margin_left = 712.0
margin_top = 98.0
margin_right = 770.0
margin_bottom = 118.0
price = 1
currency = "apples"
world_item = NodePath("../Apple")

[node name="TradeItemSimple2" parent="Grades/Second" index="1" instance=ExtResource( 14 )]
margin_left = 710.0
margin_top = 119.0
margin_right = 768.0
margin_bottom = 139.0
price = 2
currency = "pumpkins"
world_item = NodePath("../Pumpkin")

[node name="TradeItemSimple3" parent="Grades/Second" index="2" instance=ExtResource( 14 )]
margin_left = 712.0
margin_top = 140.0
margin_right = 770.0
margin_bottom = 160.0
price = 1
currency = "berries"
world_item = NodePath("../Berry")

[node name="Apple" type="Sprite" parent="Grades/Second" index="3"]
visible = false
use_parent_material = true
position = Vector2( -17, -17 )
texture = ExtResource( 8 )

[node name="Shadow" type="Sprite" parent="Grades/Second/Apple" index="0"]
use_parent_material = true
position = Vector2( -1, 4 )
texture = ExtResource( 11 )

[node name="Pumpkin" type="Sprite" parent="Grades/Second" index="4"]
visible = false
use_parent_material = true
position = Vector2( 0, -20 )
texture = ExtResource( 10 )

[node name="Shadow" type="Sprite" parent="Grades/Second/Pumpkin" index="0"]
use_parent_material = true
position = Vector2( 0, 1 )
texture = ExtResource( 7 )

[node name="Berry" type="Sprite" parent="Grades/Second" index="5"]
visible = false
use_parent_material = true
position = Vector2( 17, -16 )
texture = ExtResource( 17 )

[node name="Shadow" type="Sprite" parent="Grades/Second/Berry" index="0"]
visible = false
use_parent_material = true
position = Vector2( -1, 0 )
texture = ExtResource( 18 )

[node name="Third" type="Node2D" parent="Grades" index="2"]
visible = false

[node name="TradeItemSimple" parent="Grades/Third" index="0" instance=ExtResource( 14 )]
margin_left = 761.0
margin_top = 120.0
margin_right = 819.0
margin_bottom = 140.0
price = 1
currency = "honey"
world_item = NodePath("../Honey")

[node name="Honey" type="Sprite" parent="Grades/Third" index="1"]
visible = false
use_parent_material = true
position = Vector2( 0, -18 )
texture = ExtResource( 15 )

[node name="Shadow" type="Sprite" parent="Grades/Third/Honey" index="0"]
use_parent_material = true
texture = ExtResource( 16 )

[node name="GradesNext" type="Node2D" parent="." index="20"]

[node name="First" type="Node2D" parent="GradesNext" index="0"]
visible = false

[node name="TradeItemSimple" parent="GradesNext/First" index="0" instance=ExtResource( 14 )]
margin_left = 654.0
margin_top = 201.0
margin_right = 712.0
margin_bottom = 221.0
world_item = NodePath("../Carrot")

[node name="TradeItemSimple2" parent="GradesNext/First" index="1" instance=ExtResource( 14 )]
margin_left = 653.0
margin_top = 221.0
margin_right = 711.0
margin_bottom = 241.0
world_item = NodePath("../Carrot2")

[node name="TradeItemSimple3" parent="GradesNext/First" index="2" instance=ExtResource( 14 )]
margin_left = 653.0
margin_top = 241.0
margin_right = 711.0
margin_bottom = 261.0
world_item = NodePath("../Carrot3")

[node name="Carrot" type="Sprite" parent="GradesNext/First" index="3"]
visible = false
use_parent_material = true
position = Vector2( -16, -17 )
rotation = 1.5708
texture = ExtResource( 6 )

[node name="Shadow" type="Sprite" parent="GradesNext/First/Carrot" index="0"]
use_parent_material = true
rotation = -1.5708
texture = ExtResource( 13 )

[node name="Carrot2" type="Sprite" parent="GradesNext/First" index="4"]
visible = false
use_parent_material = true
position = Vector2( 1, -22 )
rotation = 1.5708
texture = ExtResource( 6 )

[node name="Shadow" type="Sprite" parent="GradesNext/First/Carrot2" index="0"]
use_parent_material = true
rotation = -1.5708
texture = ExtResource( 13 )

[node name="Carrot3" type="Sprite" parent="GradesNext/First" index="5"]
visible = false
use_parent_material = true
position = Vector2( 17, -17 )
rotation = 1.5708
texture = ExtResource( 6 )

[node name="Shadow" type="Sprite" parent="GradesNext/First/Carrot3" index="0"]
use_parent_material = true
rotation = -1.5708
texture = ExtResource( 13 )

[node name="Second" type="Node2D" parent="GradesNext" index="1"]
visible = false

[node name="TradeItemSimple" parent="GradesNext/Second" index="0" instance=ExtResource( 14 )]
margin_left = 699.0
margin_top = 201.0
margin_right = 757.0
margin_bottom = 221.0
price = 3
currency = "apples"
world_item = NodePath("../Apple")

[node name="TradeItemSimple2" parent="GradesNext/Second" index="1" instance=ExtResource( 14 )]
margin_left = 697.0
margin_top = 222.0
margin_right = 755.0
margin_bottom = 242.0
price = 6
currency = "pumpkins"
world_item = NodePath("../Pumpkin")

[node name="TradeItemSimple3" parent="GradesNext/Second" index="2" instance=ExtResource( 14 )]
margin_left = 699.0
margin_top = 243.0
margin_right = 757.0
margin_bottom = 263.0
price = 2
currency = "berries"
world_item = NodePath("../Berry")

[node name="Apple" type="Sprite" parent="GradesNext/Second" index="3"]
visible = false
use_parent_material = true
position = Vector2( -17, -17 )
texture = ExtResource( 8 )

[node name="Shadow" type="Sprite" parent="GradesNext/Second/Apple" index="0"]
use_parent_material = true
position = Vector2( -1, 4 )
texture = ExtResource( 11 )

[node name="Pumpkin" type="Sprite" parent="GradesNext/Second" index="4"]
visible = false
use_parent_material = true
position = Vector2( 0, -20 )
texture = ExtResource( 10 )

[node name="Shadow" type="Sprite" parent="GradesNext/Second/Pumpkin" index="0"]
use_parent_material = true
position = Vector2( 0, 1 )
texture = ExtResource( 7 )

[node name="Berry" type="Sprite" parent="GradesNext/Second" index="5"]
visible = false
use_parent_material = true
position = Vector2( 17, -16 )
texture = ExtResource( 17 )

[node name="Shadow" type="Sprite" parent="GradesNext/Second/Berry" index="0"]
visible = false
use_parent_material = true
position = Vector2( -1, 0 )
texture = ExtResource( 18 )

[node name="Third" type="Node2D" parent="GradesNext" index="2"]
visible = false

[node name="TradeItemSimple" parent="GradesNext/Third" index="0" instance=ExtResource( 14 )]
margin_left = 747.0
margin_top = 224.0
margin_right = 805.0
margin_bottom = 244.0
price = 2
currency = "honey"
world_item = NodePath("../Honey")

[node name="Honey" type="Sprite" parent="GradesNext/Third" index="1"]
visible = false
use_parent_material = true
position = Vector2( 0, -18 )
texture = ExtResource( 15 )

[node name="Shadow" type="Sprite" parent="GradesNext/Third/Honey" index="0"]
use_parent_material = true
texture = ExtResource( 16 )

[connection signal="tween_all_completed" from="Tween" to="." method="_on_Tween_tween_all_completed"]
[connection signal="timeout" from="TimerGradeUp" to="." method="_on_TimerGradeUp_timeout"]
